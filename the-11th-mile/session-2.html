<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The 11th Mile | Mixed Pace Strength</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
    <a href="index.html" class="home-btn">‚Üê Back to Library</a>
    <a href="index.html" class="logo">THE 11th MILE</a>
</header>

<div class="container">

    <div class="sticky-bar">
        <h3 style="margin:0; font-size:1.1rem;">Session Settings</h3>
        
        <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
            <div style="display: flex; align-items: center; gap: 8px;">
                <span style="font-size: 0.85rem; opacity: 0.8; white-space: nowrap;">Enter 5K Time:</span>
                <input type="text" id="sessionPace" class="calc-input" placeholder="MM:SS" oninput="formatInput(this)">
            </div>
            <button id="unitBtn" class="unit-btn" onclick="toggleUnits()" style="margin: 0;">Display: Miles</button>
        </div>
    </div>

    <div class="dashboard">
        
        <div>
            <div class="card">
                <h2>Mixed Pace Strength <span id="dist-tag" style="font-size: 0.8em; font-weight: normal; color: #888; margin-left: 10px;">(~6 Miles)</span></h2>
                <p><strong>Goal:</strong> Strength Endurance & Gear Changing.</p>
                
                <div class="step">
                    <div class="step-num" style="background: var(--warmup);">W</div>
                    <div class="step-content">
                        <strong id="lbl-wu">1 Mile Warm Up</strong>
                        <small>Easy conversation pace.</small>
                    </div>
                </div>

                <div class="step">
                    <div class="step-num">1</div>
                    <div class="step-content">
                        <strong id="lbl-1">1 Mile Tempo</strong>
                        <small id="sub-1">Controlled hard effort. <br><strong>Recovery:</strong> 0.5 Mile Jog.</small>
                    </div>
                </div>

                <div class="step">
                    <div class="step-num">2</div>
                    <div class="step-content">
                        <strong id="lbl-2">1 Mile</strong>
                        <small id="sub-2">Threshold effort. <br><strong>Recovery:</strong> 0.25 Mile Jog.</small>
                    </div>
                </div>

                <div class="step">
                    <div class="step-num">3</div>
                    <div class="step-content">
                        <strong id="lbl-3">2 x 0.5 Mile</strong>
                        <small id="sub-3">Race Pace. <br><strong>Recovery:</strong> 0.25 Mile Jog.</small>
                    </div>
                </div>

                <div class="step">
                    <div class="step-num">4</div>
                    <div class="step-content">
                        <strong id="lbl-4">4 x 0.25 Mile</strong>
                        <small id="sub-4">Fast Finish. <br><strong>Recovery:</strong> 0.15 Mile Walk/Jog.</small>
                    </div>
                </div>

                <div class="step">
                    <div class="step-num" style="background: var(--warmup);">C</div>
                    <div class="step-content">
                        <strong id="lbl-cd">1 Mile Cool Down</strong>
                        <small>Very slow jog to flush lactate.</small>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="pros-cons">
                    <div class="pc-box">
                        <h3>Pros</h3>
                        <ul>
                            <li>Teaches you to run fast on tired legs.</li>
                            <li>Huge lactate flushing benefits.</li>
                            <li>Builds mental toughness.</li>
                        </ul>
                    </div>
                    <div class="pc-box">
                        <h3>Cons</h3>
                        <ul>
                            <li>Easy to burn out if you start too fast.</li>
                            <li>Requires strict pacing discipline.</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="card tip-box">
                <strong>Coach's Tip:</strong>
                <p style="margin: 5px 0 0 0;">If you are struggling on the final set, <strong>do not slow down</strong>. Instead, add 30-60 seconds to your standing recovery. The goal is to hit the speed, even if it means taking a longer breather.</p>
            </div>
        </div>

        <div>
            <div class="card" style="background: #2D3436; color: white;">
                <h2 style="color:var(--accent); border-color:var(--accent);">Your Targets</h2>
                <p style="font-size: 0.9rem; opacity: 0.8;">Based on <span id="displayTime">--:--</span> 5K</p>
                
                <div class="pace-row">
                    <div><span id="tgt-wu">Warm Up Pace</span></div>
                    <span id="p-wu" class="pace-val" style="color: white;">--:--</span>
                </div>

                <div class="pace-row">
                    <div><span id="tgt-1">1 Mile (Tempo)</span></div>
                    <span id="p-tempo" class="pace-val" style="color: white;">--:--</span>
                </div>

                <div class="pace-row">
                    <div><span id="tgt-2">1 Mile (Threshold)</span></div>
                    <span id="p-10k" class="pace-val" style="color: white;">--:--</span>
                </div>

                <div class="pace-row">
                    <div><span id="tgt-3">0.5 Mile Pace</span></div>
                    <span id="p-5k" class="pace-val" style="color: white;">--:--</span>
                </div>

                <div class="pace-row">
                    <div><span id="tgt-4">0.25 Mile Pace</span></div>
                    <span id="p-3k" class="pace-val">--:--</span>
                </div>

                <div class="pace-row">
                    <div><span id="tgt-cd">Cool Down Pace</span></div>
                    <span id="p-cd" class="pace-val" style="color: white;">--:--</span>
                </div>

                <div class="pace-row" style="border-bottom: none;">
                    <div><span>Recovery (Intervals)</span><span class="sub-label">Very Easy Jog</span></div>
                    <span id="p-rec" class="pace-val">--:--</span>
                </div>
            </div>

            <div class="card">
                <h3>Session Purpose</h3>
                <p style="font-size: 0.9rem;">This is a classic "Ladder Down" session. By increasing the speed as the distance gets shorter, you force your body to recruit fast-twitch muscle fibers even when your aerobic system is fatigued.</p>
            </div>
        </div>

    </div>

</div>

<script src="app.js"></script>

<script>
    // PAGE SPECIFIC LOGIC
    window.onload = function() {
        initPage(); // From app.js
        updatePageCalc();
    }

    function updatePageCalc() {
        const input = document.getElementById('sessionPace').value;
        const totalSeconds = parseTime(input); // From app.js
        document.getElementById('displayTime').innerText = input || "--:--";

        if (!totalSeconds) return;
        
        let basePace, tempo, tenK, fiveK, threeK, wuPace, cdPace, recPace, suffix;

        if (isMetric) {
            // KM MATH
            basePace = totalSeconds / 5;
            suffix = " /km";
            tempo = basePace + 18; 
            tenK = basePace + 9;   
            fiveK = basePace;      
            threeK = basePace - 9; 
            recPace = basePace + 93; 
            wuPace = basePace + 101;  
            cdPace = basePace + 101; 

            // UPDATE LABELS (KM)
            document.getElementById('dist-tag').innerText = "(~10 KM)";
            document.getElementById('lbl-wu').innerText = "1.6km Warm Up";
            document.getElementById('lbl-cd').innerText = "1.6km Cool Down";

            document.getElementById('lbl-1').innerText = "1.6km Tempo";
            document.getElementById('sub-1').innerHTML = "Controlled hard effort.<br><strong>Recovery:</strong> 800m Jog.";
            
            document.getElementById('lbl-2').innerText = "1.6km";
            document.getElementById('sub-2').innerHTML = "Threshold effort.<br><strong>Recovery:</strong> 400m Jog.";

            document.getElementById('lbl-3').innerText = "2 x 800m";
            document.getElementById('sub-3').innerHTML = "Race Pace.<br><strong>Recovery:</strong> 400m Jog.";

            document.getElementById('lbl-4').innerText = "4 x 400m";
            document.getElementById('sub-4').innerHTML = "Fast Finish.<br><strong>Recovery:</strong> 200m Walk/Jog.";

            document.getElementById('tgt-wu').innerText = "Warm Up Pace";
            document.getElementById('tgt-1').innerText = "1.6km (Tempo)";
            document.getElementById('tgt-2').innerText = "1.6km (Threshold)";
            document.getElementById('tgt-3').innerText = "800m Pace";
            document.getElementById('tgt-4').innerText = "400m Pace";
            document.getElementById('tgt-cd').innerText = "Cool Down Pace";

        } else {
            // MILE MATH
            basePace = totalSeconds / 3.1068;
            suffix = " /mi";
            tempo = basePace + 30; 
            tenK = basePace + 15;  
            fiveK = basePace;      
            threeK = basePace - 15;
            recPace = basePace + 150; 
            wuPace = basePace + 161; 
            cdPace = basePace + 161; 

            // UPDATE LABELS (MILES)
            document.getElementById('dist-tag').innerText = "(~6 Miles)";
            document.getElementById('lbl-wu').innerText = "1 Mile Warm Up";
            document.getElementById('lbl-cd').innerText = "1 Mile Cool Down";

            document.getElementById('lbl-1').innerText = "1 Mile Tempo";
            document.getElementById('sub-1').innerHTML = "Controlled hard effort.<br><strong>Recovery:</strong> 0.5 Mile Jog.";

            document.getElementById('lbl-2').innerText = "1 Mile";
            document.getElementById('sub-2').innerHTML = "Threshold effort.<br><strong>Recovery:</strong> 0.25 Mile Jog.";

            document.getElementById('lbl-3').innerText = "2 x 0.5 Mile";
            document.getElementById('sub-3').innerHTML = "Race Pace.<br><strong>Recovery:</strong> 0.25 Mile Jog.";

            document.getElementById('lbl-4').innerText = "4 x 0.25 Mile";
            document.getElementById('sub-4').innerHTML = "Fast Finish.<br><strong>Recovery:</strong> 0.15 Mile Walk/Jog.";

            document.getElementById('tgt-wu').innerText = "Warm Up Pace";
            document.getElementById('tgt-1').innerText = "1 Mile (Tempo)";
            document.getElementById('tgt-2').innerText = "1 Mile (Threshold)";
            document.getElementById('tgt-3').innerText = "0.5 Mile Pace";
            document.getElementById('tgt-4').innerText = "0.25 Mile Pace";
            document.getElementById('tgt-cd').innerText = "Cool Down Pace";
        }

        // UPDATE VALUES
        document.getElementById('p-wu').innerText = formatTime(wuPace) + suffix;
        document.getElementById('p-tempo').innerText = formatTime(tempo) + suffix;
        document.getElementById('p-10k').innerText = formatTime(tenK) + suffix;
        document.getElementById('p-5k').innerText = formatTime(fiveK) + suffix;
        document.getElementById('p-3k').innerText = formatTime(threeK) + suffix;
        document.getElementById('p-cd').innerText = formatTime(cdPace) + suffix;
        document.getElementById('p-rec').innerText = formatTime(recPace) + suffix;
    }
</script>

</body>
</html>